import{h as $,i as q,j as F,k as U,n as D,l as N,_ as z,R as H,F as G,S as J,m as X,A as Y,E as K,P as Q,r as M,o as E,c as I,a as k,b as g,w as C,t as A,d as L,g as V,f as P,p as j}from"./index-db0711cc.js";function W({swiper:t,extendParams:_,on:f,emit:h}){_({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const u=a=>(Array.isArray(a)||(a=[a].filter(n=>!!n)),a);function y(a){let n;return a&&typeof a=="string"&&t.isElement&&(n=t.el.shadowRoot.querySelector(a),n)?n:(a&&(typeof a=="string"&&(n=[...document.querySelectorAll(a)]),t.params.uniqueNavElements&&typeof a=="string"&&n.length>1&&t.el.querySelectorAll(a).length===1&&(n=t.el.querySelector(a))),a&&!n?a:n)}function v(a,n){const l=t.params.navigation;a=u(a),a.forEach(s=>{s&&(s.classList[n?"add":"remove"](...l.disabledClass.split(" ")),s.tagName==="BUTTON"&&(s.disabled=n),t.params.watchOverflow&&t.enabled&&s.classList[t.isLocked?"add":"remove"](l.lockClass))})}function r(){const{nextEl:a,prevEl:n}=t.navigation;if(t.params.loop){v(n,!1),v(a,!1);return}v(n,t.isBeginning&&!t.params.rewind),v(a,t.isEnd&&!t.params.rewind)}function e(a){a.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),h("navigationPrev"))}function o(a){a.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),h("navigationNext"))}function d(){const a=t.params.navigation;if(t.params.navigation=$(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(a.nextEl||a.prevEl))return;let n=y(a.nextEl),l=y(a.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:l}),n=u(n),l=u(l);const s=(m,b)=>{m&&m.addEventListener("click",b==="next"?o:e),!t.enabled&&m&&m.classList.add(...a.lockClass.split(" "))};n.forEach(m=>s(m,"next")),l.forEach(m=>s(m,"prev"))}function i(){let{nextEl:a,prevEl:n}=t.navigation;a=u(a),n=u(n);const l=(s,m)=>{s.removeEventListener("click",m==="next"?o:e),s.classList.remove(...t.params.navigation.disabledClass.split(" "))};a.forEach(s=>l(s,"next")),n.forEach(s=>l(s,"prev"))}f("init",()=>{t.params.navigation.enabled===!1?x():(d(),r())}),f("toEdge fromEdge lock unlock",()=>{r()}),f("destroy",()=>{i()}),f("enable disable",()=>{let{nextEl:a,prevEl:n}=t.navigation;a=u(a),n=u(n),[...a,...n].filter(l=>!!l).forEach(l=>l.classList[t.enabled?"remove":"add"](t.params.navigation.lockClass))}),f("click",(a,n)=>{let{nextEl:l,prevEl:s}=t.navigation;l=u(l),s=u(s);const m=n.target;if(t.params.navigation.hideOnClick&&!s.includes(m)&&!l.includes(m)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===m||t.pagination.el.contains(m)))return;let b;l.length?b=l[0].classList.contains(t.params.navigation.hiddenClass):s.length&&(b=s[0].classList.contains(t.params.navigation.hiddenClass)),h(b===!0?"navigationShow":"navigationHide"),[...l,...s].filter(S=>!!S).forEach(S=>S.classList.toggle(t.params.navigation.hiddenClass))}});const c=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),r()},x=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),i()};Object.assign(t.navigation,{enable:c,disable:x,update:r,init:d,destroy:i})}function Z({swiper:t,extendParams:_,on:f}){_({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let h=!1,u=!1;t.thumbs={swiper:null};function y(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const o=e.clickedIndex,d=e.clickedSlide;if(d&&d.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof o>"u"||o===null)return;let i;e.params.loop?i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):i=o,t.params.loop?t.slideToLoop(i):t.slideTo(i)}function v(){const{thumbs:e}=t.params;if(h)return!1;h=!0;const o=t.constructor;if(e.swiper instanceof o)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(F(e.swiper)){const d=Object.assign({},e.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new o(d),u=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",y),!0}function r(e){const o=t.thumbs.swiper;if(!o||o.destroyed)return;const d=o.params.slidesPerView==="auto"?o.slidesPerViewDynamic():o.params.slidesPerView;let i=1;const c=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(i=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),o.slides.forEach(n=>n.classList.remove(c)),o.params.loop||o.params.virtual&&o.params.virtual.enabled)for(let n=0;n<i;n+=1)U(o.slidesEl,`[data-swiper-slide-index="${t.realIndex+n}"]`).forEach(l=>{l.classList.add(c)});else for(let n=0;n<i;n+=1)o.slides[t.realIndex+n]&&o.slides[t.realIndex+n].classList.add(c);const x=t.params.thumbs.autoScrollOffset,a=x&&!o.params.loop;if(t.realIndex!==o.realIndex||a){const n=o.activeIndex;let l,s;if(o.params.loop){const m=o.slides.filter(b=>b.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];l=o.slides.indexOf(m),s=t.activeIndex>t.previousIndex?"next":"prev"}else l=t.realIndex,s=l>t.previousIndex?"next":"prev";a&&(l+=s==="next"?x:-1*x),o.visibleSlidesIndexes&&o.visibleSlidesIndexes.indexOf(l)<0&&(o.params.centeredSlides?l>n?l=l-Math.floor(d/2)+1:l=l+Math.floor(d/2)-1:l>n&&o.params.slidesPerGroup,o.slideTo(l,e?0:void 0))}}f("beforeInit",()=>{const{thumbs:e}=t.params;if(!(!e||!e.swiper))if(typeof e.swiper=="string"||e.swiper instanceof HTMLElement){const o=q(),d=()=>{const c=typeof e.swiper=="string"?o.querySelector(e.swiper):e.swiper;if(c&&c.swiper)e.swiper=c.swiper,v(),r(!0);else if(c){const x=a=>{e.swiper=a.detail[0],c.removeEventListener("init",x),v(),r(!0),e.swiper.update(),t.update()};c.addEventListener("init",x)}return c},i=()=>{if(t.destroyed)return;d()||requestAnimationFrame(i)};requestAnimationFrame(i)}else v(),r(!0)}),f("slideChange update resize observerUpdate",()=>{r()}),f("setTransition",(e,o)=>{const d=t.thumbs.swiper;!d||d.destroyed||d.setTransition(o)}),f("beforeDestroy",()=>{const e=t.thumbs.swiper;!e||e.destroyed||u&&e.destroy()}),Object.assign(t.thumbs,{init:v,update:r})}function w({swiper:t,extendParams:_,emit:f,once:h}){_({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function u(){const r=t.getTranslate();t.setTranslate(r),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})}function y(){const{touchEventsData:r,touches:e}=t;r.velocities.length===0&&r.velocities.push({position:e[t.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:e[t.isHorizontal()?"currentX":"currentY"],time:D()})}function v({currentPos:r}){const{params:e,wrapperEl:o,rtlTranslate:d,snapGrid:i,touchEventsData:c}=t,a=D()-c.touchStartTime;if(r<-t.minTranslate()){t.slideTo(t.activeIndex);return}if(r>-t.maxTranslate()){t.slides.length<i.length?t.slideTo(i.length-1):t.slideTo(t.slides.length-1);return}if(e.freeMode.momentum){if(c.velocities.length>1){const p=c.velocities.pop(),T=c.velocities.pop(),R=p.position-T.position,O=p.time-T.time;t.velocity=R/O,t.velocity/=2,Math.abs(t.velocity)<e.freeMode.minimumVelocity&&(t.velocity=0),(O>150||D()-p.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=e.freeMode.momentumVelocityRatio,c.velocities.length=0;let n=1e3*e.freeMode.momentumRatio;const l=t.velocity*n;let s=t.translate+l;d&&(s=-s);let m=!1,b;const S=Math.abs(t.velocity)*20*e.freeMode.momentumBounceRatio;let B;if(s<t.maxTranslate())e.freeMode.momentumBounce?(s+t.maxTranslate()<-S&&(s=t.maxTranslate()-S),b=t.maxTranslate(),m=!0,c.allowMomentumBounce=!0):s=t.maxTranslate(),e.loop&&e.centeredSlides&&(B=!0);else if(s>t.minTranslate())e.freeMode.momentumBounce?(s-t.minTranslate()>S&&(s=t.minTranslate()+S),b=t.minTranslate(),m=!0,c.allowMomentumBounce=!0):s=t.minTranslate(),e.loop&&e.centeredSlides&&(B=!0);else if(e.freeMode.sticky){let p;for(let T=0;T<i.length;T+=1)if(i[T]>-s){p=T;break}Math.abs(i[p]-s)<Math.abs(i[p-1]-s)||t.swipeDirection==="next"?s=i[p]:s=i[p-1],s=-s}if(B&&h("transitionEnd",()=>{t.loopFix()}),t.velocity!==0){if(d?n=Math.abs((-s-t.translate)/t.velocity):n=Math.abs((s-t.translate)/t.velocity),e.freeMode.sticky){const p=Math.abs((d?-s:s)-t.translate),T=t.slidesSizesGrid[t.activeIndex];p<T?n=e.speed:p<2*T?n=e.speed*1.5:n=e.speed*2.5}}else if(e.freeMode.sticky){t.slideToClosest();return}e.freeMode.momentumBounce&&m?(t.updateProgress(b),t.setTransition(n),t.setTranslate(s),t.transitionStart(!0,t.swipeDirection),t.animating=!0,N(o,()=>{!t||t.destroyed||!c.allowMomentumBounce||(f("momentumBounce"),t.setTransition(e.speed),setTimeout(()=>{t.setTranslate(b),N(o,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(f("_freeModeNoMomentumRelease"),t.updateProgress(s),t.setTransition(n),t.setTranslate(s),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,N(o,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(s),t.updateActiveIndex(),t.updateSlidesClasses()}else if(e.freeMode.sticky){t.slideToClosest();return}else e.freeMode&&f("_freeModeNoMomentumRelease");(!e.freeMode.momentum||a>=e.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}Object.assign(t,{freeMode:{onTouchStart:u,onTouchMove:y,onTouchEnd:v}})}const tt={data(){return{apiUrl:"https://api.weiisound.com/api/product",imgUrl:"https://api.weiisound.com/uploads/product/",colorUrl:"https://api.weiisound.com/images/product/color/",isLoading:!1,groupId:"",group2Id:"",groupIdName:"",group2IdName:"",subMenu:[],subProducts:[],product:[],imgLinkIn:[],colorArr:[],newColorArray:[],imgShowSrc:"",productId:"",productContentAll:{},productContent:{},thumbsSwiper:null}},components:{RouterLink:H,FooterContact:G,Swiper:J,SwiperSlide:X},methods:{getSubMenu(){this.$http.get(`${this.apiUrl}?group_id=${this.groupId}`).then(t=>{Object.values(t.data.menu[this.groupId].sub).forEach(_=>{this.subMenu.push(_)}),this.groupIdName=t.data.menu[this.groupId].name,this.group2IdName=t.data.menu[this.groupId].sub[this.group2Id].name})},getProductData(){this.isLoading=!0,this.$http.get(`${this.apiUrl}?group_id=${this.groupId}&group2_id=${this.group2Id}&id=${this.productId}`).then(t=>{t.data.product.filter(h=>{if(h.id==this.productId)return this.product=h}),this.imgLinkIn=JSON.parse(this.product.link_in),this.productContentAll=JSON.parse(this.product.content),this.productContent=this.productContentAll["zh-tw"][0];const f=Array.from(this.imgLinkIn.reduce((h,u)=>(h.add(u.color),h),new Set));f.forEach((h,u)=>{h.includes("0")&&f.splice(u,1)}),this.colorArr=f,this.isLoading=!1})},setThumbsSwiper(t){this.thumbsSwiper=t}},mounted(){this.isLoading=!0,this.groupId=this.$route.query.group_id,this.group2Id=this.$route.query.group2_id,this.productId=this.$route.query.id,this.getSubMenu(),this.getProductData()},computed:{modules(){return[w,Z,Y,K,Q,W]}}},et={class:"breadcrumb-box","aria-label":"breadcrumb"},nt={class:"container"},st={class:"breadcrumb py-3"},at={class:"breadcrumb-item"},ot={class:"breadcrumb-item"},it={class:"breadcrumb-item"},lt={class:"breadcrumb-item active","aria-current":"page"},rt={"data-aos":"fade-zoom-in","data-aos-easing":"ease-in","data-aos-duration":"1000","data-aos-delay":"200",class:"container my-5"},dt={class:"row"},ct={class:"col-12 col-md-6"},ut={class:"mb-3"},mt=["src"],ft=["src"],ht={class:"col-12 col-md-6 pt-4"},gt={class:"color"},vt=["src"];function bt(t,_,f,h,u,y){const v=M("VueLoading"),r=M("RouterLink"),e=M("swiper-slide"),o=M("swiper"),d=M("FooterContact");return E(),I(L,null,[k(v,{active:u.isLoading,"onUpdate:active":_[0]||(_[0]=i=>u.isLoading=i)},null,8,["active"]),g("nav",et,[g("div",nt,[g("ol",st,[g("li",at,[k(r,{to:"/",class:"text-decoration-none text-dark"},{default:C(()=>[P("Home")]),_:1})]),g("li",ot,[k(r,{to:"/ProductsView",class:"text-decoration-none text-dark"},{default:C(()=>[P("Production")]),_:1})]),g("li",it,[k(r,{to:{path:"/ProductsListMenuView",query:{group_id:this.groupId}},class:"text-decoration-none text-dark"},{default:C(()=>[P(A(this.groupIdName),1)]),_:1},8,["to"])]),g("li",lt,A(this.product.name),1)])])]),g("div",rt,[g("div",dt,[g("div",ct,[g("div",ut,[k(o,{effect:"fade",loop:!0,spaceBetween:10,thumbs:{swiper:u.thumbsSwiper},modules:y.modules,class:"mySwiper2"},{default:C(()=>[(E(!0),I(L,null,V(this.imgLinkIn,i=>(E(),j(e,{key:i},{default:C(()=>[g("img",{src:this.imgUrl+i.fileName,class:"img-fluid"},null,8,mt)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"])]),k(o,{onSwiper:y.setThumbsSwiper,slidesPerView:3,breakpoints:{480:{slidesPerView:4},768:{slidesPerView:5},976:{slidesPerView:4},1440:{slidesPerView:5}},spaceBetween:30,navigation:!0,modules:y.modules,class:"mySwiper"},{default:C(()=>[(E(!0),I(L,null,V(this.imgLinkIn,i=>(E(),j(e,{key:i,class:"btn list-group-item mb-2"},{default:C(()=>[g("img",{src:this.imgUrl+i.fileName,class:"img-fluid"},null,8,ft)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])]),g("div",ht,[g("h3",null,A(this.product.name),1),g("div",null,[(E(!0),I(L,null,V(this.productContent,i=>(E(),I("p",{key:i},A(i),1))),128))]),g("p",gt,[P("color: "),(E(!0),I(L,null,V(this.colorArr,i=>(E(),I("img",{key:i,class:"ms-2",src:`${this.colorUrl}${i}.jpg`},null,8,vt))),128))]),k(r,{to:"/ContactView",class:"btn btn-outline-secondary"},{default:C(()=>[P("Contact Us")]),_:1})])])]),k(d)],64)}const _t=z(tt,[["render",bt]]);export{_t as default};
