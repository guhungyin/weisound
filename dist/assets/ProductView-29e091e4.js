import{i as j,j as R,k as F,l as U,n as D,m as N,_ as z,R as H,F as G,S as J,p as X,A as Y,E as K,P as Q,r as M,o as E,c as I,a as k,b as g,w as C,t as A,d as L,g as V,f as P,q as $}from"./index-5925e081.js";function W({swiper:e,extendParams:_,on:f,emit:h}){_({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const u=a=>(Array.isArray(a)||(a=[a].filter(n=>!!n)),a);function y(a){let n;return a&&typeof a=="string"&&e.isElement&&(n=e.el.shadowRoot.querySelector(a),n)?n:(a&&(typeof a=="string"&&(n=[...document.querySelectorAll(a)]),e.params.uniqueNavElements&&typeof a=="string"&&n.length>1&&e.el.querySelectorAll(a).length===1&&(n=e.el.querySelector(a))),a&&!n?a:n)}function v(a,n){const l=e.params.navigation;a=u(a),a.forEach(s=>{s&&(s.classList[n?"add":"remove"](...l.disabledClass.split(" ")),s.tagName==="BUTTON"&&(s.disabled=n),e.params.watchOverflow&&e.enabled&&s.classList[e.isLocked?"add":"remove"](l.lockClass))})}function r(){const{nextEl:a,prevEl:n}=e.navigation;if(e.params.loop){v(n,!1),v(a,!1);return}v(n,e.isBeginning&&!e.params.rewind),v(a,e.isEnd&&!e.params.rewind)}function t(a){a.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),h("navigationPrev"))}function i(a){a.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),h("navigationNext"))}function d(){const a=e.params.navigation;if(e.params.navigation=j(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(a.nextEl||a.prevEl))return;let n=y(a.nextEl),l=y(a.prevEl);Object.assign(e.navigation,{nextEl:n,prevEl:l}),n=u(n),l=u(l);const s=(m,b)=>{m&&m.addEventListener("click",b==="next"?i:t),!e.enabled&&m&&m.classList.add(...a.lockClass.split(" "))};n.forEach(m=>s(m,"next")),l.forEach(m=>s(m,"prev"))}function o(){let{nextEl:a,prevEl:n}=e.navigation;a=u(a),n=u(n);const l=(s,m)=>{s.removeEventListener("click",m==="next"?i:t),s.classList.remove(...e.params.navigation.disabledClass.split(" "))};a.forEach(s=>l(s,"next")),n.forEach(s=>l(s,"prev"))}f("init",()=>{e.params.navigation.enabled===!1?x():(d(),r())}),f("toEdge fromEdge lock unlock",()=>{r()}),f("destroy",()=>{o()}),f("enable disable",()=>{let{nextEl:a,prevEl:n}=e.navigation;a=u(a),n=u(n),[...a,...n].filter(l=>!!l).forEach(l=>l.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),f("click",(a,n)=>{let{nextEl:l,prevEl:s}=e.navigation;l=u(l),s=u(s);const m=n.target;if(e.params.navigation.hideOnClick&&!s.includes(m)&&!l.includes(m)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===m||e.pagination.el.contains(m)))return;let b;l.length?b=l[0].classList.contains(e.params.navigation.hiddenClass):s.length&&(b=s[0].classList.contains(e.params.navigation.hiddenClass)),h(b===!0?"navigationShow":"navigationHide"),[...l,...s].filter(S=>!!S).forEach(S=>S.classList.toggle(e.params.navigation.hiddenClass))}});const c=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),r()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),o()};Object.assign(e.navigation,{enable:c,disable:x,update:r,init:d,destroy:o})}function Z({swiper:e,extendParams:_,on:f}){_({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let h=!1,u=!1;e.thumbs={swiper:null};function y(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const i=t.clickedIndex,d=t.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof i>"u"||i===null)return;let o;t.params.loop?o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):o=i,e.params.loop?e.slideToLoop(o):e.slideTo(o)}function v(){const{thumbs:t}=e.params;if(h)return!1;h=!0;const i=e.constructor;if(t.swiper instanceof i)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(F(t.swiper)){const d=Object.assign({},t.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new i(d),u=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",y),!0}function r(t){const i=e.thumbs.swiper;if(!i||i.destroyed)return;const d=i.params.slidesPerView==="auto"?i.slidesPerViewDynamic():i.params.slidesPerView;let o=1;const c=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(o=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),i.slides.forEach(n=>n.classList.remove(c)),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let n=0;n<o;n+=1)U(i.slidesEl,`[data-swiper-slide-index="${e.realIndex+n}"]`).forEach(l=>{l.classList.add(c)});else for(let n=0;n<o;n+=1)i.slides[e.realIndex+n]&&i.slides[e.realIndex+n].classList.add(c);const x=e.params.thumbs.autoScrollOffset,a=x&&!i.params.loop;if(e.realIndex!==i.realIndex||a){const n=i.activeIndex;let l,s;if(i.params.loop){const m=i.slides.filter(b=>b.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];l=i.slides.indexOf(m),s=e.activeIndex>e.previousIndex?"next":"prev"}else l=e.realIndex,s=l>e.previousIndex?"next":"prev";a&&(l+=s==="next"?x:-1*x),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(l)<0&&(i.params.centeredSlides?l>n?l=l-Math.floor(d/2)+1:l=l+Math.floor(d/2)-1:l>n&&i.params.slidesPerGroup,i.slideTo(l,t?0:void 0))}}f("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const i=R(),d=()=>{const c=typeof t.swiper=="string"?i.querySelector(t.swiper):t.swiper;if(c&&c.swiper)t.swiper=c.swiper,v(),r(!0);else if(c){const x=a=>{t.swiper=a.detail[0],c.removeEventListener("init",x),v(),r(!0),t.swiper.update(),e.update()};c.addEventListener("init",x)}return c},o=()=>{if(e.destroyed)return;d()||requestAnimationFrame(o)};requestAnimationFrame(o)}else v(),r(!0)}),f("slideChange update resize observerUpdate",()=>{r()}),f("setTransition",(t,i)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(i)}),f("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||u&&t.destroy()}),Object.assign(e.thumbs,{init:v,update:r})}function w({swiper:e,extendParams:_,emit:f,once:h}){_({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function u(){const r=e.getTranslate();e.setTranslate(r),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function y(){const{touchEventsData:r,touches:t}=e;r.velocities.length===0&&r.velocities.push({position:t[e.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:t[e.isHorizontal()?"currentX":"currentY"],time:D()})}function v({currentPos:r}){const{params:t,wrapperEl:i,rtlTranslate:d,snapGrid:o,touchEventsData:c}=e,a=D()-c.touchStartTime;if(r<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(r>-e.maxTranslate()){e.slides.length<o.length?e.slideTo(o.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(c.velocities.length>1){const p=c.velocities.pop(),T=c.velocities.pop(),q=p.position-T.position,O=p.time-T.time;e.velocity=q/O,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(O>150||D()-p.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,c.velocities.length=0;let n=1e3*t.freeMode.momentumRatio;const l=e.velocity*n;let s=e.translate+l;d&&(s=-s);let m=!1,b;const S=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let B;if(s<e.maxTranslate())t.freeMode.momentumBounce?(s+e.maxTranslate()<-S&&(s=e.maxTranslate()-S),b=e.maxTranslate(),m=!0,c.allowMomentumBounce=!0):s=e.maxTranslate(),t.loop&&t.centeredSlides&&(B=!0);else if(s>e.minTranslate())t.freeMode.momentumBounce?(s-e.minTranslate()>S&&(s=e.minTranslate()+S),b=e.minTranslate(),m=!0,c.allowMomentumBounce=!0):s=e.minTranslate(),t.loop&&t.centeredSlides&&(B=!0);else if(t.freeMode.sticky){let p;for(let T=0;T<o.length;T+=1)if(o[T]>-s){p=T;break}Math.abs(o[p]-s)<Math.abs(o[p-1]-s)||e.swipeDirection==="next"?s=o[p]:s=o[p-1],s=-s}if(B&&h("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(d?n=Math.abs((-s-e.translate)/e.velocity):n=Math.abs((s-e.translate)/e.velocity),t.freeMode.sticky){const p=Math.abs((d?-s:s)-e.translate),T=e.slidesSizesGrid[e.activeIndex];p<T?n=t.speed:p<2*T?n=t.speed*1.5:n=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&m?(e.updateProgress(b),e.setTransition(n),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating=!0,N(i,()=>{!e||e.destroyed||!c.allowMomentumBounce||(f("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(b),N(i,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(f("_freeModeNoMomentumRelease"),e.updateProgress(s),e.setTransition(n),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,N(i,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(s),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&f("_freeModeNoMomentumRelease");(!t.freeMode.momentum||a>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:u,onTouchMove:y,onTouchEnd:v}})}const ee={data(){return{apiUrl:"https://api.weiisound.com/api/product",imgUrl:"https://api.weiisound.com/uploads/product/",colorUrl:"https://api.weiisound.com/images/product/color/",isLoading:!1,groupId:"",group2Id:"",groupIdName:"",group2IdName:"",subMenu:[],subProducts:[],product:[],imgLinkIn:[],colorArr:[],newColorArray:[],imgShowSrc:"",productId:"",productContentAll:{},productContent:{},thumbsSwiper:null,page:""}},components:{RouterLink:H,FooterContact:G,Swiper:J,SwiperSlide:X},methods:{getSubMenu(){this.$http.get(`${this.apiUrl}?group_id=${this.groupId}`).then(e=>{Object.values(e.data.menu[this.groupId].sub).forEach(_=>{this.subMenu.push(_)}),this.groupIdName=e.data.menu[this.groupId].name,this.group2IdName=e.data.menu[this.groupId].sub[this.group2Id].name})},getProductData(){this.isLoading=!0,this.$http.get(`${this.apiUrl}?group_id=${this.groupId}&group2_id=${this.group2Id}&page=${this.page}&id=${this.productId}`).then(e=>{e.data.product.filter(h=>{if(h.id==this.productId)return this.product=h}),this.imgLinkIn=JSON.parse(this.product.link_in),this.productContentAll=JSON.parse(this.product.content),this.productContent=this.productContentAll["zh-tw"][0];const f=Array.from(this.imgLinkIn.reduce((h,u)=>(h.add(u.color),h),new Set));f.forEach((h,u)=>{h.includes("0")&&f.splice(u,1)}),this.colorArr=f,this.isLoading=!1})},setThumbsSwiper(e){this.thumbsSwiper=e}},mounted(){this.isLoading=!0,this.groupId=this.$route.query.group_id,this.group2Id=this.$route.query.group2_id,this.productId=this.$route.query.id,this.page=this.$route.query.page,this.getSubMenu(),this.getProductData()},computed:{modules(){return[w,Z,Y,K,Q,W]}}},te={class:"breadcrumb-box","aria-label":"breadcrumb"},ne={class:"container"},se={class:"breadcrumb py-3"},ae={class:"breadcrumb-item"},ie={class:"breadcrumb-item"},oe={class:"breadcrumb-item"},le={class:"breadcrumb-item active","aria-current":"page"},re={"data-aos":"fade-zoom-in","data-aos-easing":"ease-in","data-aos-duration":"1000","data-aos-delay":"200",class:"container my-5"},de={class:"row"},ce={class:"col-12 col-md-6"},ue={class:"mb-3"},me=["src"],fe=["src"],he={class:"col-12 col-md-6 pt-4"},ge={class:"color"},ve=["src"];function be(e,_,f,h,u,y){const v=M("VueLoading"),r=M("RouterLink"),t=M("swiper-slide"),i=M("swiper"),d=M("FooterContact");return E(),I(L,null,[k(v,{active:u.isLoading,"onUpdate:active":_[0]||(_[0]=o=>u.isLoading=o)},null,8,["active"]),g("nav",te,[g("div",ne,[g("ol",se,[g("li",ae,[k(r,{to:"/",class:"text-decoration-none text-dark"},{default:C(()=>[P("Home")]),_:1})]),g("li",ie,[k(r,{to:"/ProductsView",class:"text-decoration-none text-dark"},{default:C(()=>[P("Production")]),_:1})]),g("li",oe,[k(r,{to:{path:"/ProductsListMenuView",query:{group_id:this.groupId}},class:"text-decoration-none text-dark"},{default:C(()=>[P(A(this.groupIdName),1)]),_:1},8,["to"])]),g("li",le,A(this.product.name),1)])])]),g("div",re,[g("div",de,[g("div",ce,[g("div",ue,[k(i,{effect:"fade",loop:!0,spaceBetween:10,thumbs:{swiper:u.thumbsSwiper},modules:y.modules,class:"mySwiper2"},{default:C(()=>[(E(!0),I(L,null,V(this.imgLinkIn,o=>(E(),$(t,{key:o},{default:C(()=>[g("img",{src:this.imgUrl+o.fileName,class:"img-fluid"},null,8,me)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"])]),k(i,{onSwiper:y.setThumbsSwiper,slidesPerView:3,breakpoints:{480:{slidesPerView:4},768:{slidesPerView:5},976:{slidesPerView:4},1440:{slidesPerView:5}},spaceBetween:30,navigation:!0,modules:y.modules,class:"mySwiper"},{default:C(()=>[(E(!0),I(L,null,V(this.imgLinkIn,o=>(E(),$(t,{key:o,class:"btn list-group-item mb-2"},{default:C(()=>[g("img",{src:this.imgUrl+o.fileName,class:"img-fluid"},null,8,fe)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])]),g("div",he,[g("h3",null,A(this.product.name),1),g("div",null,[(E(!0),I(L,null,V(this.productContent,o=>(E(),I("p",{key:o},A(o),1))),128))]),g("p",ge,[P("color: "),(E(!0),I(L,null,V(this.colorArr,o=>(E(),I("img",{key:o,class:"ms-2",src:`${this.colorUrl}${o}.jpg`},null,8,ve))),128))]),k(r,{to:"/ContactView",class:"btn btn-outline-secondary"},{default:C(()=>[P("Contact Us")]),_:1})])])]),k(d)],64)}const _e=z(ee,[["render",be]]);export{_e as default};
